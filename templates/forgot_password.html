<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Forgot Password</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h2>Forgot Password</h2>
        {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="messages">
      {% for category, message in messages %}
        <p class="flash {{ category }}">{{ message }}</p>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

        <form method="POST">
            <label>Email:</label><br>
            <input type="email" name="email" required><br><br>
            
            <label>New Password:</label><br>
            <div class="password-container">
  <input type="password" name="new_password" id="new_password" required>
  <button type="button" class="show-password" onclick="togglePassword('new_password')">üëÅ</button>
</div><br><br>

            <button type="submit">Reset Password</button>
        </form>
        <p><a href="{{ url_for('login') }}">Back to Login</a></p>
    </div>
    <script>
  // Auto-hide flash messages after 3 seconds
  setTimeout(() => {
    const messages = document.querySelector('.messages');
    if (messages) {
      messages.style.transition = 'opacity 1s ease';
      messages.style.opacity = '0';
      setTimeout(() => messages.remove(), 1000);
    }
  }, 3000);
</script>
<script>
function togglePassword(id) {
  const input = document.getElementById(id);
  if (input.type === "password") {
    input.type = "text";
  } else {
    input.type = "password";
  }
}
</script>

</body>
</html>
